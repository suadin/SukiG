@inherits LayoutComponentBase
<div class="page @DarkLightCssClass()">
    <div class="main d-flex flex-column">
        <div class="d-flex flex-row flex-gap-4" style="border-bottom-style: dashed; border-bottom-width: 4px; padding-bottom: 2px;">
            <!-- dark-mode control -->
            <button title="light/dark mode" class="btn btn-primary" @onclick="@ToggleMode"><span class="oi oi-brush"></span></button>
            <!-- chatroom control -->
            <button title="open/close chat" class="btn btn-primary" @onclick="@ToggleChat"><span class="oi oi-chat"></span></button>
        </div>
        <div class="content p-2 flex-fill">@Body</div>
        <ChatRoom @ref="chatRoom"></ChatRoom>
    </div>
</div>

@code {
    // dark-mode
    private bool isDarkMode = false;
    private string DarkLightCssClass() => isDarkMode ? "dark-mode" : string.Empty;
    private void ToggleMode() => isDarkMode = !isDarkMode;

    // chatroom
    private ChatRoom chatRoom = new ChatRoom();
    private async Task ToggleChat() => await chatRoom.ToggleChat();
}
